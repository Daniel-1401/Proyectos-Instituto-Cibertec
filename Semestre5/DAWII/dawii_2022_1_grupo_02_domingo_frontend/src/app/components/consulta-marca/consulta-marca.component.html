<div class="body d-flex py-lg-3 py-md-2">
  <div class="container-xxl w-100">
    <!-- Inicio Header -->
    <div class="row align-items-center">
      <div class="border-0 mb-4">
        <div
          class="card-header py-3 no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap">
          <h2 class="fw-bold mb-0">Consultar Marca</h2>
        </div>
      </div>
    </div>
    <!-- Finalizar header -->
    <!-- Inicio de los campos para buscar -->
    <div class="row p-2 d-flex justify-content-between">
      <div class="row col-lg-4">
        <div class="input-group rounded">
          <input type="text" (keyup)="buscarNombre()" class="form-control rounded" placeholder="Buscar por nombre"
            aria-label="Search" [(ngModel)]="filtroNombre" aria-describedby="search-addon" />
        </div>
      </div>
      <div class="row col-lg-4">
        <div class="input-group rounded">
          <input type="text" (keyup)="buscarDescripcion()" class="form-control rounded" placeholder="Buscar por Descripcion"
            aria-label="Search" [(ngModel)]="filtroDescripcion" aria-describedby="search-addon" />
        </div>
      </div>
      <div class="row col-lg-3">
        <mat-form-field appearance="legacy" style="width: 100%">
          <mat-label>Pais</mat-label>
          <mat-select [formControl]="validPais" (selectionChange)="cargarPais()" [(value)]="selPais"
            [(ngModel)]="selPais">
            <mat-option value="-1"> [Seleccione] </mat-option>
            <mat-option *ngFor="let aux of pais" value="{{aux.idPais}}">{{
              aux.nombre
              }}</mat-option>
          </mat-select>
          <mat-error *ngIf="validPais.hasError('required')">Debe seleccionar un Pais</mat-error>
          <mat-error *ngIf="
                    validPais.hasError('pattern') &&
                      !validPais.hasError('required')
                    ">
            Tu selección es inválida
          </mat-error>
        </mat-form-field>
      </div>
      <div class="row d-flex justify-content-center" style="margin-top: 2%">
        <div class="row col-lg-3">
          <label class="form-label text-secondary">Estado:</label>
          <mat-radio-group [(ngModel)]="selectedEstado" (change)="cambioEstado()">
            <mat-radio-button *ngFor="let esta of estados" [value]="esta.id">{{
              esta.descripcion
              }}</mat-radio-button>
          </mat-radio-group>
        </div>
      </div>
    </div>
    <!-- Fin de los campos para buscar -->
    <div class="row"  style="width: 100%">
      <!-- Row end  -->
      <div class="row clearfix g-3"  style="width: 100%">
        <div class="col-sm-12">
          <div class="card mx-1 my-3">
            <div class="card-body">
              <table
                id="myProjectTable"
                class="table table-hover align-middle mb-0"
                style="width: 100%"
              >
                <thead class="text-center">
                  <tr>
                    <th>id</th>
                    <th>Nombre</th>
                    <th>Descripcion</th>
                    <th>Fecha Registro</th>
                    <th>Fecha Vigencia</th>
                    <th>Certificado</th>
                    <th>Estado</th>
                    <th>Pais</th>
                  </tr>
                </thead>
                <tbody class="text-center">
                  <tr></tr>
                  <tr *ngFor="let mar of marca">
                    <td>{{ mar.idMarca }}</td>
                    <td>{{ mar.nombre }}</td>
                    <td>{{ mar.descripcion }}</td>
                    <td>{{ mar.fechaRegistro | date: "dd/MM/yyyy" }}</td>
                    <td>{{ mar.fechaVigencia | date: "dd/MM/yyyy"}}</td>
                    <td>{{ mar.certificado }}</td>
                    <td>{{ mar.estado == 1 ? 'Activo' : 'Inactivo' }}</td>
                    <td>
                      {{ mar.pais?.nombre }} 
                    </td>
                  </tr>
                </tbody>
              </table>
              <!--FIN-->
            </div>
          </div>
        </div>
      </div>
  </div>
</div>