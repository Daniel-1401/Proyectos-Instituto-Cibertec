<div class="container">
    <div class="card bg-dark text-white">
      <div class="card-header">{{ titulo }}</div>
      <div class="card-body">
        <form #proveedorForm="ngForm">
          <div class="form-group row mb-5">
            <label for="" class="col-form-label col-sm-2">Razon Social</label>
            <div class="col-sm-6">
              <input
                type="text"
                class="form-control"
                [(ngModel)]="proveedor.razonsocial"
                name="razonsocial"
                #razonsocial="ngModel"
                required
              />
              <div
                class="alert alert-danger"
                *ngIf="razonsocial.invalid && (razonsocial.dirty || razonsocial.touched)"
              >
                <div *ngIf="razonsocial.errors?.['required']">
                  La Razon Social es requerida
                </div>
              </div>
            </div>
          </div>


          <div class="form-group row mb-5">
            <label for="" class="col-form-label col-sm-2">RUC</label>
            <div class="col-sm-6">
              <input
                type="text"
                class="form-control"
                [(ngModel)]="proveedor.ruc"
                name="ruc"
                #ruc="ngModel"
                required
                minlength="11"
                maxlength="11"
                pattern="[0-9]*"
              />
              <div
                class="alert alert-danger"
                *ngIf="ruc.invalid && (ruc.dirty || ruc.touched)"
              >
                <div *ngIf="ruc.errors?.['required']">El ruc es requerido</div>
                <div *ngIf="ruc.errors?.['minlength']">
                  RUC debe tener 11 Caracteres.
                </div>
                <div *ngIf="ruc.errors?.['maxlength']">
                  RUC debe tener 11 Caracteres.
                </div>
                <div *ngIf="ruc.errors?.['pattern']">
                  El RUC solo puede contener caracteres numéricos.
                </div>
              </div>
            </div>
          </div>


          <div class="form-group row mb-5">
            <label for="" class="col-form-label col-sm-2">Direccion</label>
            <div class="col-sm-6">
              <input
                type="text"
                class="form-control"
                [(ngModel)]="proveedor.direccion"
                name="direccion"
                #direccion="ngModel"
                required
              /><!-- -->
              <div
                class="alert alert-danger"
                *ngIf="
                  direccion.invalid && (direccion.dirty || direccion.touched)
                "
              >
                <div *ngIf="direccion.errors?.['required']">
                  La Dirección es requerido
                </div>
              </div>
            </div>
          </div>


          <div class="form-group row mb-5">
            <label for="" class="col-form-label col-sm-2">Telefono</label>
            <div class="col-sm-6">
              <input
                type="text"
                class="form-control"
                [(ngModel)]="proveedor.telefono"
                name="telefono"
                #telefono="ngModel"
                required
              /><!-- -->
              <div
                class="alert alert-danger"
                *ngIf="
                telefono.invalid && (telefono.dirty || telefono.touched)
                "
              >
                <div *ngIf="telefono.errors?.['required']">
                  El numero de telefono es requerido
                </div>
              </div>
            </div>
          </div>


          <div class="form-group row mb-5">
            <label for="" class="col-form-label col-sm-2">Celular</label>
            <div class="col-sm-6">
              <input
                type="text"
                class="form-control"
                [(ngModel)]="proveedor.celular"
                name="celular"
                #celular="ngModel"
                required
                minlength="9"
                maxlength="9"
                pattern="[0-9]*"
              />
              <div
                class="alert alert-danger"
                *ngIf="celular.invalid && (celular.dirty || celular.touched)"
              >
                <div *ngIf="celular.errors?.['required']">El numero de celular es requerido</div>
                <div *ngIf="celular.errors?.['minlength']">
                  El numero de celular debe contener 9 digitos
                </div>
                <div *ngIf="celular.errors?.['maxlength']">
                  El numero de celular debe contener 9 digitos
                </div>
                <div *ngIf="celular.errors?.['pattern']">
                  El numero de celular solo puede contener caracteres numéricos.
                </div>
              </div>
            </div>
          </div>


          <div class="form-group row mb-5">
            <label for="" class="col-form-label col-sm-2">Contacto</label>
            <div class="col-sm-6">
              <input
                type="text"
                class="form-control"
                [(ngModel)]="proveedor.contacto"
                name="contacto"
                #contacto="ngModel"
                required
              /><!-- -->
              <div
                class="alert alert-danger"
                *ngIf="
                contacto.invalid && (contacto.dirty || contacto.touched)
                "
              >
                <div *ngIf="contacto.errors?.['required']">
                  El nombre del contacto es requerido
                </div>
              </div>
            </div>
          </div>



          <div class="row" style="margin-top: 3%">
            <div class="col-lg-4">
              <label for="departamento">Departamento</label>
              <select
                id="departamento"
                name="departamento"
                class="form-control"
                [(ngModel)]="proveedor.ubigeo!.departamento"
                (change)="cargaProvincia()"
              >
                <option value="-1">[Seleccione]</option>
                <option *ngFor="let aux of departamentos" value="{{ aux }}">
                  {{ aux }}
                </option>
              </select>
            </div>
  
            <div class="col-lg-4">
              <label for="provincia">Provincia</label>
              <select
                id="provincia"
                name="provincia"
                class="form-control"
                [(ngModel)]="proveedor.ubigeo!.provincia"
                (change)="cargaDistrito()"
              >
                <option value="-1">[Seleccione]</option>
                <option *ngFor="let aux of provincias" value="{{ aux }}">
                  {{ aux }}
                </option>
              </select>
            </div>
  
            <div class="col-lg-4">
              <label for="distrito">Distrito</label>
              <select
                id="distrito"
                name="distrito"
                class="form-control"
                [(ngModel)]="proveedor.ubigeo!.idUbigeo"
                required
                name="distrito"
                #distrito="ngModel"
                min="1"
              >
                <option value="-1">[Seleccione]</option>
                <option *ngFor="let aux of distritos" value="{{ aux.idUbigeo }}">
                  {{ aux.distrito }}
                </option>
              </select>
              <div
              class="alert alert-danger"
              *ngIf="
              distrito.invalid &&
                (distrito.dirty || distrito.touched)
              "
            >
              <div *ngIf="distrito.errors?.['min']">
                Distrito es obligatorio
              </div>
            </div>
            </div>
          </div>


  
          <div class="form-group d-flex justify-content-end mt-5">
            <div class="">
              <button
                class="btn btn-primary"
                role="button"
                (click)="registrar()"
                [disabled]="!proveedorForm.form.valid"
              >
                Crear
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
